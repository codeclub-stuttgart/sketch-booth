<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Sketch booth</title>
  </head>
  <body>

    <form method="post" action="/sketch" enctype="multipart/form-data" id="form">
      <input type="file" name="sketch" id="fileinput">
    </form>

    <div id="preview">


    <script src="./vendor/potrace.js"></script>
    <script>


      (function () {
        'use strict'

        var form = document.getElementById('form');
        var fileInput = document.getElementById('fileinput');
        var preview = document.getElementById('preview');

        fileInput.addEventListener('change', function (e) {
          var fileList = e.target.files;


          if (fileList.length > 0) {
            Potrace.loadImageFromFile(fileList[0]);

            Potrace.process(function () {

              preview.innerHTML = Potrace.getSVG(1)
            })
          }
        })

      }())

    </script>

  </body>
</html>
